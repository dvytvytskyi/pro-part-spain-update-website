import{u,j as s}from"./index-D6DsswzB.js";import{r}from"./mapbox-gl-BQyo5stt.js";import{a as h}from"./client-DjafAzYx.js";import{b as w}from"./vendor-CWHnZUEh.js";function v(){const{t:a,language:n}=u(),o=w(),[c,d]=r.useState([]),[g,i]=r.useState(!0);r.useEffect(()=>{(async()=>{i(!0);const t=await h();d(t||[]),i(!1)})()},[]);const m=e=>{if(!e)return"";const t={year:"numeric",month:"long",day:"numeric"};return new Date(e).toLocaleDateString(n==="es"?"es-ES":n==="ru"?"ru-RU":"en-GB",t)};return s.jsx("div",{className:"news-page",children:s.jsxs("div",{className:"news-container",children:[s.jsxs("div",{className:"news-header",children:[s.jsx("h1",{className:"news-title",children:a("pages.newsPage.title")}),s.jsx("p",{className:"news-subtitle",children:a("pages.newsPage.subtitle")})]}),g?s.jsx("div",{style:{padding:"4rem",textAlign:"center",color:"#888"},children:a("common.loading")}):c.length===0?s.jsx("div",{style:{padding:"4rem",textAlign:"center",color:"#888"},children:a("common.noResults")}):s.jsx("div",{className:"news-grid",children:c.map(e=>{const t=e["title_"+n]||e.title_en||e.title,p=e["description_"+n]||e.description_en||e.description;return s.jsxs("div",{className:"news-card",onClick:()=>o(`/news/${e.id}`),children:[s.jsx("div",{className:"news-image-wrapper",children:s.jsx("img",{src:e.featured_image_url||e.image_url||"/placeholder.jpg",alt:t,onError:l=>{l.target.onerror=null,l.target.src="https://via.placeholder.com/400x300?text=No+Image"}})}),s.jsxs("div",{className:"news-content",children:[s.jsx("span",{className:"news-date",children:m(e.created_at)}),s.jsx("h3",{className:"news-card-title",children:t}),s.jsx("p",{className:"news-excerpt",children:p})]})]},e.id)})})]})})}export{v as default};
